/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package vista;

import aplicacion.Empresa;
import aplicacion.Inversor;
import aplicacion.Usuario;

/**
 *
 * @author 34639
 */
public class VRegistro extends javax.swing.JFrame {

    /**
     * Creates new form Registro
     */
    
    aplicacion.FachadaAplicacion fa;
    
    public VRegistro(aplicacion.FachadaAplicacion fa) {
        this.fa=fa;
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        registroLabel = new javax.swing.JLabel();
        ingresoLabel = new javax.swing.JLabel();
        usuarioIngresoTextBox = new javax.swing.JTextField();
        usuarioIngresoLabel = new javax.swing.JLabel();
        claveIngresoTextBox = new javax.swing.JTextField();
        claveIngresoLabel = new javax.swing.JLabel();
        aceptarIngresoBoton = new javax.swing.JButton();
        tipoRegistroLabel = new javax.swing.JLabel();
        tipoRegistroTExtBox = new javax.swing.JComboBox<>();
        nombreRegistroLabel = new javax.swing.JLabel();
        nombreRegistroTextBox = new javax.swing.JTextField();
        DniRegistroTextBox = new javax.swing.JLabel();
        dniRegistroTextBox = new javax.swing.JTextField();
        telefonoRegistroTextBox = new javax.swing.JTextField();
        telefonoRegistroLabel = new javax.swing.JLabel();
        idRegistroTextBox = new javax.swing.JTextField();
        ClaveRegistroLabel = new javax.swing.JLabel();
        ClaveRegistroTextBox = new javax.swing.JTextField();
        direccionRegistroTextBox = new javax.swing.JTextField();
        direccionRegistroLabel = new javax.swing.JLabel();
        idRegistroLabel = new javax.swing.JLabel();
        registroBoton = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        boton1 = new vista.componentes.Boton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        registroLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        registroLabel.setText("Registro");

        ingresoLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        ingresoLabel.setText("Ingreso");

        usuarioIngresoTextBox.setToolTipText("");
        usuarioIngresoTextBox.setName(""); // NOI18N
        usuarioIngresoTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                usuarioIngresoTextBoxActionPerformed(evt);
            }
        });

        usuarioIngresoLabel.setText("Usuario:");

        claveIngresoTextBox.setToolTipText("");
        claveIngresoTextBox.setName(""); // NOI18N
        claveIngresoTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                claveIngresoTextBoxActionPerformed(evt);
            }
        });

        claveIngresoLabel.setText("Clave:");

        aceptarIngresoBoton.setText("Aceptar");
        aceptarIngresoBoton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                aceptarIngresoBotonActionPerformed(evt);
            }
        });

        tipoRegistroLabel.setText("Tipo:");

        tipoRegistroTExtBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Empresa", "Inversor", " " }));
        tipoRegistroTExtBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tipoRegistroTExtBoxActionPerformed(evt);
            }
        });

        nombreRegistroLabel.setText("Nombre:");

        nombreRegistroTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nombreRegistroTextBoxActionPerformed(evt);
            }
        });

        DniRegistroTextBox.setText("CIF/DNI:");

        dniRegistroTextBox.setToolTipText("");
        dniRegistroTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dniRegistroTextBoxActionPerformed(evt);
            }
        });

        telefonoRegistroTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                telefonoRegistroTextBoxActionPerformed(evt);
            }
        });

        telefonoRegistroLabel.setText("Teléfono:");

        idRegistroTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                idRegistroTextBoxActionPerformed(evt);
            }
        });

        ClaveRegistroLabel.setText("Clave:");

        ClaveRegistroTextBox.setToolTipText("");
        ClaveRegistroTextBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ClaveRegistroTextBoxActionPerformed(evt);
            }
        });

        direccionRegistroLabel.setText("Dirección:");

        idRegistroLabel.setText("Id de usuario:");

        registroBoton.setText("Crear solicitud de registro");
        registroBoton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                registroBotonActionPerformed(evt);
            }
        });

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel1.setText("o");

        boton1.setText("Cancelar");
        boton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelarRegistroActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(159, 159, 159)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(usuarioIngresoLabel)
                                    .addComponent(claveIngresoLabel))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(usuarioIngresoTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(claveIngresoTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addComponent(boton1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(aceptarIngresoBoton, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(104, 104, 104)
                        .addComponent(ingresoLabel)))
                .addGap(88, 88, 88)
                .addComponent(jLabel1)
                .addGap(127, 127, 127)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(registroLabel)
                        .addGap(596, 596, 596))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(tipoRegistroLabel)
                            .addComponent(nombreRegistroLabel)
                            .addComponent(DniRegistroTextBox)
                            .addComponent(idRegistroLabel)
                            .addComponent(ClaveRegistroLabel)
                            .addComponent(direccionRegistroLabel)
                            .addComponent(telefonoRegistroLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(telefonoRegistroTextBox)
                            .addComponent(ClaveRegistroTextBox, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(dniRegistroTextBox, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(nombreRegistroTextBox, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(tipoRegistroTExtBox, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(idRegistroTextBox, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(direccionRegistroTextBox)
                            .addComponent(registroBoton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(134, 134, 134)
                        .addComponent(ingresoLabel)
                        .addGap(26, 26, 26)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(usuarioIngresoTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(usuarioIngresoLabel))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(claveIngresoTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(claveIngresoLabel))
                        .addGap(30, 30, 30)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(aceptarIngresoBoton)
                            .addComponent(boton1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(85, 85, 85)
                        .addComponent(registroLabel)
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tipoRegistroLabel)
                            .addComponent(tipoRegistroTExtBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(nombreRegistroLabel)
                            .addComponent(nombreRegistroTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(DniRegistroTextBox)
                            .addComponent(dniRegistroTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1))
                        .addGap(14, 14, 14)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(telefonoRegistroTextBox, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(telefonoRegistroLabel))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(idRegistroLabel)
                            .addComponent(idRegistroTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ClaveRegistroTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ClaveRegistroLabel))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(direccionRegistroTextBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(direccionRegistroLabel))
                        .addGap(18, 18, 18)
                        .addComponent(registroBoton)))
                .addContainerGap(148, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void usuarioIngresoTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_usuarioIngresoTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_usuarioIngresoTextBoxActionPerformed

    private void claveIngresoTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_claveIngresoTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_claveIngresoTextBoxActionPerformed

    private void aceptarIngresoBotonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_aceptarIngresoBotonActionPerformed
        // TODO add your handling code here:
        this.validarUsuario();
    }//GEN-LAST:event_aceptarIngresoBotonActionPerformed

    private void nombreRegistroTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nombreRegistroTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_nombreRegistroTextBoxActionPerformed

    private void dniRegistroTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dniRegistroTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_dniRegistroTextBoxActionPerformed

    private void idRegistroTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_idRegistroTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_idRegistroTextBoxActionPerformed

    private void ClaveRegistroTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ClaveRegistroTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ClaveRegistroTextBoxActionPerformed

    private void telefonoRegistroTextBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_telefonoRegistroTextBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_telefonoRegistroTextBoxActionPerformed

    private void cancelarRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelarRegistroActionPerformed
        // TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_cancelarRegistroActionPerformed

    private void tipoRegistroTExtBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tipoRegistroTExtBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tipoRegistroTExtBoxActionPerformed

    private void registroBotonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_registroBotonActionPerformed
        this.registroUsuario();
    }//GEN-LAST:event_registroBotonActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel ClaveRegistroLabel;
    private javax.swing.JTextField ClaveRegistroTextBox;
    private javax.swing.JLabel DniRegistroTextBox;
    private javax.swing.JButton aceptarIngresoBoton;
    private vista.componentes.Boton boton1;
    private javax.swing.JLabel claveIngresoLabel;
    private javax.swing.JTextField claveIngresoTextBox;
    private javax.swing.JLabel direccionRegistroLabel;
    private javax.swing.JTextField direccionRegistroTextBox;
    private javax.swing.JTextField dniRegistroTextBox;
    private javax.swing.JLabel idRegistroLabel;
    private javax.swing.JTextField idRegistroTextBox;
    private javax.swing.JLabel ingresoLabel;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel nombreRegistroLabel;
    private javax.swing.JTextField nombreRegistroTextBox;
    private javax.swing.JButton registroBoton;
    private javax.swing.JLabel registroLabel;
    private javax.swing.JLabel telefonoRegistroLabel;
    private javax.swing.JTextField telefonoRegistroTextBox;
    private javax.swing.JLabel tipoRegistroLabel;
    private javax.swing.JComboBox<String> tipoRegistroTExtBox;
    private javax.swing.JLabel usuarioIngresoLabel;
    private javax.swing.JTextField usuarioIngresoTextBox;
    // End of variables declaration//GEN-END:variables

    public void validarUsuario(){
        String nombreU, contraseña;
        
        Usuario user;
        
        nombreU = usuarioIngresoTextBox.getText();
        contraseña = claveIngresoTextBox.getText();
        
        String tipo = fa.validarUsuario(nombreU, contraseña);
        
        if( tipo == null){
            System.out.println("Usuario no encontrado");
        }else if(tipo.equals("Inversor")) {
            fa.menuUsuarios(tipo,nombreU,contraseña);
            System.out.println("Usuario encontrado, es inversor");
            this.dispose();
        }else if(tipo.equals("Empresa")){
            fa.menuEmpresa(tipo,nombreU,contraseña);
            System.out.println("Usuario encontrado, es empresa");
            this.dispose();
        }else if(tipo.equals("Regulador")){
            fa.menuRegulador(tipo,nombreU,contraseña);
            System.out.println("Usuario encontrado, es regulador");
            this.dispose();
        }
    }
    
    //funcion para registrar un nuevo usuario en la BD. Comprueba que se hayan llenado los campos requeridos
    //para el registro (los not null) antes de pasar al SQL para que la excepcion la gestione el Java sin tener
    //que bajar a BD y fiarte de ella.
    public void registroUsuario(){
        Usuario u;
        boolean usuario,inversor,empresa;
        
        //compruebo si estan vacios los campos que no pueden estar vacios
        if(this.idRegistroTextBox.getText().isEmpty() || this.ClaveRegistroTextBox.getText().isEmpty() || this.nombreRegistroTextBox.getText().isEmpty() || this.dniRegistroTextBox.getText().isEmpty()){
            fa.muestraExcepcion("Recuerda que los campos de ID, clave, nombre y DNI/CIF no pueden estar vacíos.");//muestro la excepcion y retorno sin hacer nada mas
            return;
        }
        
        switch (this.tipoRegistroTExtBox.getSelectedIndex()) {//switch segun el elemento seleccionado en el combobox
            case 2:
                //si en el comboBox de seleccion de tipo tiene el index 2, es que esta en blanco
                fa.muestraExcepcion("Debes seleccionar el tipo de registro que quieres: empresa o inversor.");//muestro excepcion
                break;
            case 1:
                {
                    //si en el comboBox de selecion de tipo tiene el index 1, es que es inversor
                    Inversor i;
                    u=new Usuario(this.idRegistroTextBox.getText(),this.ClaveRegistroTextBox.getText(),(float)0.0);//creo un nuevo usuario
                    usuario=fa.registroUsuario(u);//la funcion registra un usuario en la BD, pero antes de ellos comprueba si hay alguno con el mismo ID. Si lo hay, retorna false y no inserta nada
                    if(usuario==false){//retorno false, por tanto habia ya otro user con la misma id y NO se ha insertado nada
                        fa.muestraExcepcion("El ID de usuario ya está en uso, no se puede realizar el registro.");//muestro excepcion
                    }
                    else{//retorno true, por lo que se ha insertado el nuevo usuario
                        //creo el inversor
                        i=new Inversor(this.idRegistroTextBox.getText(),this.nombreRegistroTextBox.getText(),this.dniRegistroTextBox.getText(),this.direccionRegistroTextBox.getText(),this.telefonoRegistroTextBox.getText(),false);
                        inversor=fa.registroInversor(i);//hace lo mismo que la de registro de usuarios (el comprobar que el id no esta en uso es paranoia, nunca debe estarlo si llegas aqui)
                        if(inversor==false){//si por alguna razon ignota esta el id en inversor pero no en usuario (literal imposible), lo decimos
                            fa.muestraExcepcion("El ID estaba en uso en inversor.");//muestro excepcion
                        }
                    }       break;
                }
            case 0:
                {
                    //si en el comboBox de selecion de tipo tiene el index 0, es que es empresa
                    Empresa e;
                    u=new Usuario(this.idRegistroTextBox.getText(),this.ClaveRegistroTextBox.getText(),(float)0.0);//creo nuevo usuario
                    usuario=fa.registroUsuario(u);//la funcion registra un usuario en la BD, pero antes de ellos comprueba si hay alguno con el mismo ID. Si lo hay, retorna false y no inserta nada
                    if(usuario==false){//retorno false, por tanto habia ya otro user con la misma id y NO se ha insertado nada
                        fa.muestraExcepcion("El ID de usuario ya está en uso, no se puede realizar el registro.");//muestro excepcion
                    }
                    else{//retorno true, por lo que se ha insertado el nuevo usuario
                        //creo la empresa
                        e=new Empresa(this.idRegistroTextBox.getText(),this.nombreRegistroTextBox.getText(),this.dniRegistroTextBox.getText(),this.direccionRegistroTextBox.getText(),this.telefonoRegistroTextBox.getText(),false);
                        empresa=fa.registroEmpresa(e);//hace lo mismo que la de registro de usuarios (el comprobar que el id no esta en uso es paranoia, nunca debe estarlo si llegas aqui)
                        if(empresa==false){//si por alguna razon ignota esta el id en empresa pero no en usuario (literal imposible), lo decimos
                            fa.muestraExcepcion("El ID estaba en uso en empresa.");//muestro excepcion
                        }
                    }       break;
                }
            default:
                break;
        }       
    }
    
    
}
